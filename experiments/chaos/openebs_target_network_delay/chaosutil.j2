{% if stg_prov is defined and (stg_prov == 'openebs.io/provisioner-iscsi' or stg_prov == 'cstor.csi.openebs.io') %}
  {% if stg_engine is defined and stg_engine == 'cstor' and cri == 'docker' %}
    chaosutil: openebs/cstor_target_network_delay.yaml
  {% elif stg_engine is defined and stg_engine == 'cstor' and (cri == 'containerd' or cri == 'cri-o') %}
    chaosutil: openebs/inject_network_delay_tc.yml
  {% elif stg_engine is defined and stg_engine == 'jiva' and cri == 'docker' %}
    chaosutil: openebs/jiva_controller_network_delay.yaml
  {% else %}
    chaosutil: openebs/inject_network_delay_tc.yml
  {% endif %}
{% endif %}

{% if stg_prov is defined and (stg_prov == 'jiva.csi.openebs.io') %}
  {% if stg_engine is defined and stg_engine == 'jiva-csi' and (cri == 'containerd' or cri == 'cri-o') %}
    chaosutil: openebs/inject_network_delay_tc.yml
  {% elif stg_engine is defined and stg_engine == 'jiva-csi' and cri == 'docker' %}
    chaosutil: openebs/jiva_csi_controller_network_delay.yaml
  {% else %}
    chaosutil: openebs/inject_network_delay_tc.yml
  {% endif %}
{% endif %}
